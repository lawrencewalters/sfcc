#!/bin/sh
set -x  # Enable command tracing
npx sfcc-ci client:auth -r
npx sfcc-ci sandbox:create --realm aazw -s --ttl 0 --ocapi-settings '{ "_v": "20.4", "clients": [ { "client_id": "799d86d2-467b-4f01-9867-447fb3ccbc34", "resources": [ { "methods": [ "get" ], "read_attributes": "(**)", "resource_id": "/sites" }, { "methods": [ "get" ], "read_attributes": "(**)", "resource_id": "/catalogs" }, { "methods": [ "get" ], "read_attributes": "(**)", "resource_id": "/inventory_lists" }, { "resource_id": "/code_versions", "methods": [ "get" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/code_versions/*", "methods": [ "patch", "delete" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/jobs/*/executions", "methods": [ "post" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/jobs/*/executions/*", "methods": [ "get" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/sites/*/cartridges", "methods": [ "post" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/role_search", "methods": [ "post" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/roles/*", "methods": [ "get" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/roles/*/user_search", "methods": [ "post" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/roles/*/users/*", "methods": [ "put", "delete" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/user_search", "methods": [ "post" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/users", "methods": [ "get" ], "read_attributes": "(**)", "write_attributes": "(**)" }, { "resource_id": "/users/*", "methods": [ "put", "get", "patch", "delete" ], "read_attributes": "(**)", "write_attributes": "(**)" } ] } ] }' --webdav-settings '{ "clients": [ { "client_id": "c78cf56b-cb9b-495b-bb0c-fbc0da04deda", "permissions": [ { "path": "/impex", "operations": [ "read_write" ] }, { "path": "/cartridges", "operations": [ "read_write" ] }, { "path": "/static", "operations": [ "read_write" ] } ] }, { "client_id": "799d86d2-467b-4f01-9867-447fb3ccbc34", "permissions": [ { "path": "/Logs", "operations": [ "read" ] }, { "operations": [ "read_write" ], "path": "/impex" }, { "operations": [ "read_write" ], "path": "/cartridges" } ] } ] }'